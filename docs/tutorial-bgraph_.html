<!DOCTYPE html>

<html lang="en">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width">
	<title>Documentation Tutorial: Using the bgraph class</title>

	<!--[if lt IE 9]>
	<script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
	<![endif]-->
	<link type="text/css" rel="stylesheet" href="styles/sunlight.default.css">

	<link type="text/css" rel="stylesheet" href="styles/site.simplex.css">

</head>

<body>

<div class="navbar navbar-default navbar-fixed-top ">
<div class="container">
	<div class="navbar-header">
		<a class="navbar-brand" href="index.html">Documentation</a>
		<button class="navbar-toggle" type="button" data-toggle="collapse" data-target="#topNavigation">
			<span class="icon-bar"></span>
			<span class="icon-bar"></span>
			<span class="icon-bar"></span>
        </button>
	</div>
	<div class="navbar-collapse collapse" id="topNavigation">
		<ul class="nav navbar-nav">
			
			<li class="dropdown">
				<a href="modules.list.html" class="dropdown-toggle" data-toggle="dropdown">Modules<b class="caret"></b></a>
				<ul class="dropdown-menu ">
					<li><a href="module-beebrain.html">beebrain</a></li><li><a href="module-bgraph.html">bgraph</a></li><li><a href="module-broad.html">broad</a></li><li><a href="module-bsandbox.html">bsandbox</a></li><li><a href="module-butil.html">butil</a></li>
				</ul>
			</li>
			
			<li class="dropdown">
				<a href="classes.list.html" class="dropdown-toggle" data-toggle="dropdown">Classes<b class="caret"></b></a>
				<ul class="dropdown-menu ">
					<li><a href="beebrain.html">beebrain</a></li><li><a href="bgraph.html">bgraph</a></li><li><a href="bsandbox.html">bsandbox</a></li>
				</ul>
			</li>
			
			<li class="dropdown">
				<a href="tutorials.list.html" class="dropdown-toggle" data-toggle="dropdown">Tutorials<b class="caret"></b></a>
				<ul class="dropdown-menu ">
					<li><a href="tutorial-beebrain_.html">Using the beebrain class</a></li><li><a href="tutorial-bgraph_.html">Using the bgraph class</a></li>
				</ul>
			</li>
			
			<li class="dropdown">
				<a href="global.html" class="dropdown-toggle" data-toggle="dropdown">Global<b class="caret"></b></a>
				<ul class="dropdown-menu ">
					<li><a href="global.html">Global</a></li>
				</ul>
			</li>
			
		</ul>
        
            <div class="col-sm-3 col-md-3">
                <form class="navbar-form" role="search">
                    <div class="input-group">
                        <input type="text" class="form-control" placeholder="Search" name="q" id="search-input">
                        <div class="input-group-btn">
                            <button class="btn btn-default" id="search-submit"><i class="glyphicon glyphicon-search"></i></button>
                        </div>
                    </div>
                </form>
            </div>
        
	</div>

</div>
</div>


<div class="container" id="toc-content">
<div class="row">

	
	<div class="col-md-12">
	
		<div id="main">
			<section class="tutorial-section">

<header>
    

    <h2>Using the bgraph class</h2>
</header>

<article>
    <p>This tutorial describes the details and usage of the <a href="bgraph.html">bgraph</a>
class provided as part of the Beeminder Javascript implementation.</p>
<p>The <a href="module-bgraph.html">bgraph module</a> and the associated <a href="bgraph.html">bgraph class</a> allows programmers to create beeminder graph and
road table objects rendered within particular div objects within a web
page. Assuming that the required modules (d3, moment, polyfit,
pikaday, butil, broad, beebrain) are preloaded, the following code
illustrates the most basic usage</p>
<pre class="prettyprint source lang-javascript"><code>  var graph = new bgraph({divGraph: document.getElementById('graph'),
                          svgSize: { width: 800, height: 600 },
                          focusRect: { x:0, y:0, width:800, height: 453 },
                          ctxRect: { x:0, y:453, width:800, height: 100 },
                          showFocusRect: true,
                          showContext: true})
  graph.loadGoal( &quot;/path/slug.bb&quot; )</code></pre><p>This creates an interactive svg element within the supplied div
element, containing all graph components. These include the graph
itself and a &quot;context&quot; graph that shows the entire range of the goal
for the above example.  It is important that you specify the width and
height styles of the div element that will contain the graph with</p>
<pre class="prettyprint source lang-html"><code>&lt;div id=&quot;graph&quot; style=&quot;width:800px; height:600px&quot;>&lt;/div></code></pre><p>The <a href="bgraph.html">bgraph constructor</a> accepts an options argument with
type <a href="global.html#BGraphOptions">BGraphOptions</a>, whose components control the behavior of
the generated graph. In particular, the <strong>divGraph</strong>, <strong>divJSON</strong> and
<strong>divTable</strong> options specify container div elements for the graph,
goal json output and a road matrix table, respectively. A page with
all three features enabled would look like the following image:</p>
<center><img src="graph_example.png"></center>


<h2>Internals</h2><h3>Structure of the SVG element hosting the graph</h3><pre>
svg: top element
  defs: Definitions references from the graph
    style: Overall style components for the SVG to support standalone loading
    clipPath (id=plotclip): Path for clipping the plot area
    clipPath (id=brushclip): Path for clipping the context plot
    clipPath (id=buttonAreaclip): Path for clipping knot removal buttons
    path (id=rightarrow): Right arrow shape (flatlined datapoint)
    path (id=downtarrow): Down arrow shape (derailment for yaw>0)
    path (id=uparrow): Up arrow shape (derailment for yaw<0)
    g (id=removebutton): Removal button shape
    g (id=zoominbtn): Zoom-in button shape
    g (id=zoomoutbtn): Zoom-out button shape
  rect (class=zoomarea): Rectangle to monitor zoom events (for d3.zoom)
  g (class=focus): Top container for the main graph
    text: Shows 'stathead' form the goal when enabled
    g (clippath=buttonareaclip): Clipping container for knot removal buttons (roadeditor)
      use (class=remove): Removal button instance for each know
      ...
    g (clippath=plotclip): Clipping container for the main plot
      g (class=plot): Container for all plot components
        g (class=pastboxgrp)
          rect (class=past): Shaded box ending at asof to show past dates (roadeditor)
        g (class=ybhpgrp)
          path (class=halfplane): Yellow brick half plane (roadeditor)
        g (class=auragrp):
          path (class=aura): Aura around datapoints beyond tini
          path (class=aurapast): Aura around datapoints prior to tini
        g (class=wmarkgrp):
          text [or image] (class=waterbuf): Safety buffer watermark
          text (class=waterbux): Pledge amount watermark
        g (class=oldguidegrp):
          path (class=oldguides): Guidelines for the unedited "old" road (!roadeditor)
          ...
        g (class=oldroadgrp):
          path (class=oldlanes): YBR for the unedited "old" road (!roadeditor)
        g (class=pinkgrp):
          path (class=pinkregion): Pink "forbidden" region between asof and horizon
        g (class=oldbullseyegrp:
          image (class=oldbullseye): Bullseye for the unedited "old" road
        g (class=oldcentergrp):
          path (class=oldroads): YBR centerline
        g (class=grid):
          g (class=grid): vertical grid lines (!roadeditor)
          line (class=pastline): Vertical line showing asof (roadeditor only)
        g (class=oresetgrp):
          line (class=oresets): Vertical lines to indicate odometer resets
          ...
        g (class=knotgrp):
          line (class=knots): Vertical knots for editing time (roadeditor)
          ...
        g (class=steppygrp):
          path (class=steppy): Purple steppy line (!roadeditor)
        g (class=rosygrp):
          path (class=rosy): Piecewise linear rosy line (!roadeditor)
        g (class=rosyptsgrp):
          circle (class=rd): Points on the rosy line (!roadeditor)
          ...
        g (class=derailsgrp):
          use (class=derails): Arrows showing derailment points (!roadeditor)
          ...
        g (class=allptsgrp):
          circle (class=ap): All non-aggregated datapoints (!roadeditor)
          ...
        g (class=movingavgrp):
          path (class=movingav): Moving average of datapoints (!roadeditor)
        g (class=steppyptsgrp):
          circle (class=std): Purple points on the steppy line (!roadeditor)
          ...
        g (class=datapointgrp):
          circle (class=dp): Aggregated datapoints
          ...
        g (class=hollowgrp):
          circle (class=hpts): "Hollow" datapoints (!roadeditor)
          ...
        g (class=flatlinegrp):
          use (class=fladp): Flatlined datapoint
        g (class=hashtaggrp):
          text (class=hashtag): Hashtag text (!roadeditor)
          ...
        g (class=bullseyegrp):
          image (class=bullseye): Bullseye for edited road (roadeditor)
        g (class=roadgrp):
          line (class=roads): Centerline for the edited road (roadeditor)
          ...
        g (class=dotgrp):
          circle (class=dots): Inflection points for the edited road (roadeditor)
          ...
        g (class=horgrp):
          line (class=horizon): Vertical line for the akrasia horizon
        g (class=hortxtgrp):
          text (class=horizontext): "Akrasia Horizon" string
        g (class=pasttxtgrp):
          text (class=pasttext): "Today (dayname)" string indicating asof (roadeditor)
      use (class=zoomin): Button to zoom in
      use (class=zoomout): Button to zoom out
    g (class=axis): bottom X axis
    g (class=axis): top X axis (only when editor is disabled)
    text (class=axislabel): bottom X axis label
    g (class=axis): left Y axis
    g (class=axis): right Y axis
    text (class=axislabel): left Y axis label
  g (class=brush): Top container for the "context" graph showing the entire range
    g (clip-path=brushclip): Clipping container for the context graph
      g (class=context):
        g (class=brush): "brush" to select and move focus area on the entire range
          ...
        path (class=ctxoldroad): Unedited road centerline in the context graph
        image (class=ctxoldbullseye): Unedited road's bullseye in the context graph
        image (class=ctxbullseye): New road's bullseye in the context graph (roadeditor)
        line (class=ctxroads): New road segments in the context graph (roadeditor)
          ...
        circle (class=ctxdots): New road corners in the context graph (roadeditor)
          ...
        line (class=ctxhorizon): Vertical line for the akrasia horizon in the context gr.
        text (class=ctxhortext): "Akrasia Horizon" string in the context gr.
        line (class=ctxtoday): Vertical line for asof in the context gr.
        text (class=ctxtodaytext): "Today" string in the context gr.
      rect (class=focusrect): Rectange to show the range currently in focus
    g (class=axis): bottom X axis
</pre>
</article>

</section>

		</div>
	</div>

	<div class="clearfix"></div>

	

</div>
</div>


    <div class="modal fade" id="searchResults">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
            <h4 class="modal-title">Search results</h4>
          </div>
          <div class="modal-body"></div>
          <div class="modal-footer">
            <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
          </div>
        </div><!-- /.modal-content -->
      </div><!-- /.modal-dialog -->
    </div>


<footer>


<span class="jsdoc-message">
	Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.5.5</a>
	
		on 2019-04-02T22:11:08+03:00
	
	using the <a href="https://github.com/docstrap/docstrap">DocStrap template</a>.
</span>
</footer>

<script src="scripts/docstrap.lib.js"></script>
<script src="scripts/toc.js"></script>

    <script type="text/javascript" src="scripts/fulltext-search-ui.js"></script>


<script>
$( function () {
	$( "[id*='$']" ).each( function () {
		var $this = $( this );

		$this.attr( "id", $this.attr( "id" ).replace( "$", "__" ) );
	} );

	$( ".tutorial-section pre, .readme-section pre, pre.prettyprint.source" ).each( function () {
		var $this = $( this );

		var example = $this.find( "code" );
		exampleText = example.html();
		var lang = /{@lang (.*?)}/.exec( exampleText );
		if ( lang && lang[1] ) {
			exampleText = exampleText.replace( lang[0], "" );
			example.html( exampleText );
			lang = lang[1];
		} else {
			var langClassMatch = example.parent()[0].className.match(/lang\-(\S+)/);
			lang = langClassMatch ? langClassMatch[1] : "javascript";
		}

		if ( lang ) {

			$this
			.addClass( "sunlight-highlight-" + lang )
			.addClass( "linenums" )
			.html( example.html() );

		}
	} );

	Sunlight.highlightAll( {
		lineNumbers : false,
		showMenu : true,
		enableDoclinks : true
	} );

	$.catchAnchorLinks( {
        navbarOffset: 10
	} );
	$( "#toc" ).toc( {
		anchorName  : function ( i, heading, prefix ) {
			return $( heading ).attr( "id" ) || ( prefix + i );
		},
		selectors   : "#toc-content h1,#toc-content h2,#toc-content h3,#toc-content h4",
		showAndHide : false,
		smoothScrolling: true
	} );

	$( "#main span[id^='toc']" ).addClass( "toc-shim" );
	$( '.dropdown-toggle' ).dropdown();

    $( "table" ).each( function () {
      var $this = $( this );
      $this.addClass('table');
    } );

} );
</script>



<!--Navigation and Symbol Display-->


<!--Google Analytics-->



    <script type="text/javascript">
        $(document).ready(function() {
            SearcherDisplay.init();
        });
    </script>


</body>
</html>